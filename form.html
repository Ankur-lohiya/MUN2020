<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/form.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Registration Form</title>
    <style>
        #delegates,#model-making{
            display: none;
        }
    </style>
    <script>
        $(document).ready(function(){
            $("input[type='radio']").change(function(){
                var radioValue = $("input[name='apply']:checked").val();
                if(radioValue=="IP"){
                   $("#ip").css("display","block")
                   $("#delegates").css("display","none")
                   $("#model-making").css("display","none")
                   $(".ip1").attr("required",true)
                   $(".d1").attr("required",false)
                   $(".mm1").attr("required",false)
                }
                if(radioValue=="DELEGATES"){
                   $("#ip").css("display","none")
                   $("#delegates").css("display","block")
                   $("#model-making").css("display","none")
                   $(".ip1").attr("required",false)
                   $(".d1").attr("required",true)
                   $(".mm1").attr("required",false)
                }
                if(radioValue=="MODEL_MAKING"){
                   $("#ip").css("display","none")
                   $("#delegates").css("display","none")
                   $("#model-making").css("display","block")
                   $(".ip1").attr("required",false)
                   $(".d1").attr("required",false)
                   $(".mm1").attr("required",true)
                }
            });
            $("#c1").change(function(){
              var selectValue=$(this).children("option:checked").val();
              $("#c2").children("option").show();
              $("#c2").children("option[value="+selectValue+"]").hide();
            });
        });
    </script>
</head>
<body>
   <div class="form_wrapper">
  <div class="form_container">
    <div class="title_container">
      <h2>Registration Form</h2>
    </div>
    <div class="row clearfix">
      <div class="">
        <form name="submit-to-google-sheet">
            <div class="input_field radio_option">
                <h5>Applying For:</h5>
                <input type="radio" name="apply" id="IP" value="IP" checked>
                <label for="IP">IP</label>
                <input type="radio" name="apply" id="DELEGATES" value="DELEGATES">
                <label for="DELEGATES">Delegates</label>
                <input type="radio" name="apply" id="MODEL_MAKING" value="MODEL_MAKING">
                <label for="MODEL_MAKING">Model Making</label>
            </div>
            
           <div id="ip">
            <label for="Name">First Participant Name</label>
            <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
                <input type="text" name="NAME-1" placeholder="First Participant Name"  class="ip1" required/>
              </div>      
              <label for="Email">Email Id</label>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-envelope"></i></span>
            <input type="email" name="EMAIL-1" placeholder="Email Id"  class="ip1" required/>
          </div>
          <label for="contact">Contact-no</label>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
            <input type="text" name="CONTACT-1" placeholder="Contact-no" maxlength="10"  class="ip1" required/>
          </div>
          <div class="input_field select_option">
            <label for="profile">Profile</label>
            <select name="PROFILE" class="ip1" required>
              <option value="">Select a profile</option>
              <option name="caricaturist" value="Caricaturist">Caricaturist</option>
              <option name="photography" value="Photography">Photography</option>
              <option name="reporter" value="Reporter">Reporter</option>
            </select>
            <div class="select_arrow"></div>
          </div>
        </div>

        <div id="delegates">
          <label for="Name">First Participant Name</label>
          <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
              <input type="text" name="NAME_1" placeholder="First Participant Name"  class="d1"/>
            </div>      
            <label for="Email">Email Id</label>
        <div class="input_field"> <span><i aria-hidden="true" class="fa fa-envelope"></i></span>
          <input type="email" name="EMAIL_1" placeholder="Email Id"  class="d1"/>
        </div>
        <label for="contact">Contact-no</label>
        <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
          <input type="text" name="CONTACT_1" placeholder="Contact-no" maxlength="10"  class="d1"/>
        </div>
        <div class="input_field select_option">
          <label for="COMMITTEE">Select a committee preference 1</label>
          <select name="COMMITY_1" class="d1" id="c1">
            <option value="">Select a committee</option>
            <option value="CCS" name="CCS">CCS</option>
            <option value="WHO" name="WHO">WHO</option>
            <option value="UNGA" name="UNGA">UNGA</option>
            <option value="AIPPM" name="AIPPM">AIPPM</option>
          </select>
          <div class="select_arrow"></div>
        </div>
        <label for="preference1">Portfolio preference</label>
        <div class="input_field"> <span><i aria-hidden="true" class="fa fa-briefcase"></i></span>
          <input type="text" name="PREFERENCE_1" placeholder="Portfolio preference" class="d1"/>
        </div>
        <div class="input_field select_option">
          <label for="COMMITTEE">Select a committee preference 2</label>
          <select name="COMMITY_2" id="c2">
            <option value="">Select a committee</option>
            <option value="CCS" name="CCS">CCS</option>
            <option value="WHO" name="WHO">WHO</option>
            <option value="UNGA" name="UNGA">UNGA</option>
            <option value="AIPPM" name="AIPPM">AIPPM</option>
          </select>
          <div class="select_arrow"></div>
        </div>
        <label for="preference1">Portfolio preference</label>
        <div class="input_field"> <span><i aria-hidden="true" class="fa fa-briefcase"></i></span>
          <input type="text" name="PREFERENCE_2" placeholder="Portfolio preference"/>
        </div>
      </div>

      <div id="model-making">
        <label for="Name">First Participant Name</label>
        <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
            <input type="text" name="NAME1" placeholder="First Participant Name" class="mm1"/>
          </div>      
          <label for="Email">Email Id</label>
      <div class="input_field"> <span><i aria-hidden="true" class="fa fa-envelope"></i></span>
        <input type="email" name="EMAIL1" placeholder="Email Id" class="mm1"/>
      </div>
      <label for="contact">Contact-no</label>
      <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
        <input type="text" name="CONTACT1" placeholder="Contact-no" maxlength="10" class="mm1"/>
      </div>
      <label for="Name">Second Participant Name</label>
        <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
            <input type="text" name="NAME2" placeholder="Second Participant Name" class="mm1"/>
          </div>      
          <label for="Email">Email Id</label>
      <div class="input_field"> <span><i aria-hidden="true" class="fa fa-envelope"></i></span>
        <input type="email" name="EMAIL" placeholder="Email Id" class="mm1"/>
      </div>
      <label for="contact">Contact-no</label>
      <div class="input_field"> <span><i aria-hidden="true" class="fa fa-user"></i></span>
        <input type="text" name="CONTACT" placeholder="Contact-no" maxlength="10" class="mm1"/>
      </div>
    </div>
            <div class="input_field checkbox_option">
            	<input type="checkbox" id="cb1">
    			<label for="cb1">I agree with terms and conditions</label>
            </div>
            <div class="input_field checkbox_option">
            	<input type="checkbox" id="cb2">
    			<label for="cb2">I want to receive the newsletter</label>
            </div>
          <input class="button" type="submit" value="Submit"/>
        </form>
      </div>
    </div>
  </div>
</div>  
 <script>
   const form = document.forms['submit-to-google-sheet']
   form.addEventListener('submit', e => {
    var radioValue = $("input[name='apply']:checked").val();
    var scriptURL="";
    if(radioValue=="IP"){
       scriptURL ='https://script.google.com/macros/s/AKfycbzMENX5gTVpQD3FwIwk48jm6FJH8jeVdD6xUOpVAyKmraxXnCEh/exec';
       e.preventDefault()
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
            .then(response => {
                alert('Success!', response)
                //console.log(form.elements.framework)
                })
            .catch(error => {
                alert('Error!', error.message)
            })
    }
    else if(radioValue=="DELEGATES"){
       scriptURL ='https://script.google.com/macros/s/AKfycbwmVlwoVYwHn6DnYeqA-pbqwpTCiDfebACAtJqswK0fv5zOvm8f/exec';
       e.preventDefault()
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
            .then(response => {
                alert('Success!', response)
                //console.log(form.elements.framework)
                })
            .catch(error => {
                alert('Error!', error.message)
            })
    }
    else if(radioValue=="MODEL_MAKING"){
       scriptURL ='https://script.google.com/macros/s/AKfycbxP_BQAFFnyziuqcW9MXwBTnUjFBYwOWbOuFIdUs8O2hQi6724/exec';
       e.preventDefault()
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
            .then(response => {
                alert('Success!', response)
                //console.log(form.elements.framework)
                })
            .catch(error => {
                alert('Error!', error.message)
            })
    }
    });
</script>
</body>
</html>